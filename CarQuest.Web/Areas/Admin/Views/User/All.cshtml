@using CarQuest.Web.Infrastructure.Middlewares
@using CarQuest.Web.ViewModels.User
@model CarQuest.Web.Areas.Admin.ViewModels.UserAllViewModel
@{
	ViewBag.Title = "All Users";
}

<h2 class="text-center">@ViewBag.Title</h2>
<hr />

<h2>All Users</h2>
<table class="table table-bordered">
	<thead>
		<tr>
			<th>Email</th>
			<th>First Name</th>
			<th>Last Name</th>
			<th>User is Online</th>
		</tr>
	</thead>
	<tbody>
		@foreach (ApplicationUserAllViewModel user in Model.AllApplicationUsers)
		{
			<tr>
				<td><label>@user.Email</label></td>
				<td><label>@user.FirstName</label></td>
				<td><label>@user.LastName</label></td>
				<td>
					@if (OnlineUserMiddleware.CheckIfUserIsOnline(user.Id.ToString()))
					{
						<label>✔</label>
					}
					else
					{
						<label class="text-center">❌</label>
					}	
				</td>
			</tr>
		}
	</tbody>
</table>
<h2>All Mechanics</h2>
<table class="table table-bordered">
	<thead>
		<tr>
			<th>Email</th>
			<th>First Name</th>
			<th>Last Name</th>
			<th>Shop Address</th>
			<th>Phone Number</th>
			<th>User is Online</th>
		</tr>
	</thead>
	<tbody>
		@foreach (MechanicAllViewModel mechanic in Model.AllMechanics)
		{
			<tr>
				<td><label>@mechanic.Email</label></td>
				<td><label>@mechanic.FirstName</label></td>
				<td><label>@mechanic.LastName</label></td>
				<td><label>@mechanic.ShopAddress</label></td>
				<td><label>@mechanic.PhoneNumber</label></td>
				<td>
					@if (OnlineUserMiddleware.CheckIfUserIsOnline(mechanic.Id.ToString()))
					{
						<label>✔</label>
					}
					else
					{
						<label class="text-center">❌</label>
					}
				</td>
			</tr>
		}
	</tbody>
</table>